<!DOCTYPE html>
<html lang="en" dir="auto" data-theme="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>Use FactoryGirl And Faker for easy data generation in unit testing (Part1) | cdblg</title>
<meta name="keywords" content="">
<meta name="description" content="The  most irritating thing in writing tests is the data generation preparation process, sometimes you want to create an object with 20 fields that 10 of them are mandatory but you only care about the value of 1, and you don&rsquo;t want to mock, cause you interact with other methods and object that fetch this model from db.To me it happens a lot so I found the FactoryGirl &#43; Faker combination that made my life much more easy and now I can write tests in peace.To add them just put in Gemfile: gem &ldquo;factory_girl_rails&rdquo;, &ldquo;~&gt; 4.0&rdquo;  gem &ldquo;faker&rdquo;So lets take a complex sample to explain all there is to know.We have a User, the User belongs to a Company, User has many tasks.Company has many irritating mandatory fieldsLets define the Company Factory:FactoryGirl.define do    factory :company do      name {Faker::Name.name}      trp {Faker::Number.between(0,10)}      grp {Faker::Number.between(0,5)}      budget {Faker::Number.number(4)}      cpm {Faker::Number.between(1,70)}      trp_price {Faker::Number.between(100,700)}      viewer {Faker::Number.between(0,100000)}      total_viewer {Faker::Number.between(0,200000)}      unique_viewer {Faker::Number.between(0,50000)}      spots {Faker::Number.between(0,1000)}    end  endAs you can see I define lots of fields with random values.Now we can create a company by writingcreate(:company)Or just build one (without save to db) by callingbuild(:company) That&rsquo;s all for now, I&rsquo;ll continue in part2.  ">
<meta name="author" content="Chen Kinnrot">
<link rel="canonical" href="https://kinnrot.github.io/use-factorygirl-and-faker-for-easy-data/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.da3211e5ef867bf2b75fd5a6515cfed7195c011e8ab735694e203810a827097b.css" integrity="sha256-2jIR5e&#43;Ge/K3X9WmUVz&#43;1xlcAR6KtzVpTiA4EKgnCXs=" rel="preload stylesheet" as="style">
<link rel="icon" href="https://kinnrot.github.io/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://kinnrot.github.io/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://kinnrot.github.io/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://kinnrot.github.io/apple-touch-icon.png">
<link rel="mask-icon" href="https://kinnrot.github.io/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" hreflang="en" href="https://kinnrot.github.io/use-factorygirl-and-faker-for-easy-data/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-block-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
                color-scheme: dark;
            }

            .list {
                background: var(--theme);
            }

            .toc {
                background: var(--entry);
            }
        }

        @media (prefers-color-scheme: light) {
            .list::-webkit-scrollbar-thumb {
                border-color: var(--code-bg);
            }
        }

    </style>
</noscript>
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.querySelector("html").dataset.theme = 'dark';
    } else if (localStorage.getItem("pref-theme") === "light") {
       document.querySelector("html").dataset.theme = 'light';
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.querySelector("html").dataset.theme = 'dark';
    } else {
        document.querySelector("html").dataset.theme = 'light';
    }

</script>

<script async src="https://www.googletagmanager.com/gtag/js?id=G-BYC49T802E"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-BYC49T802E');
</script>
<meta property="og:url" content="https://kinnrot.github.io/use-factorygirl-and-faker-for-easy-data/">
  <meta property="og:site_name" content="cdblg">
  <meta property="og:title" content="Use FactoryGirl And Faker for easy data generation in unit testing (Part1)">
  <meta property="og:description" content="The most irritating thing in writing tests is the data generation preparation process, sometimes you want to create an object with 20 fields that 10 of them are mandatory but you only care about the value of 1, and you don’t want to mock, cause you interact with other methods and object that fetch this model from db.
To me it happens a lot so I found the FactoryGirl &#43; Faker combination that made my life much more easy and now I can write tests in peace.
To add them just put in Gemfile:
gem “factory_girl_rails”, “~&gt; 4.0”
gem “faker”
So lets take a complex sample to explain all there is to know.
We have a User, the User belongs to a Company, User has many tasks.
Company has many irritating mandatory fields
Lets define the Company Factory:
FactoryGirl.define do
factory :company do
name {Faker::Name.name}
trp {Faker::Number.between(0,10)}
grp {Faker::Number.between(0,5)}
budget {Faker::Number.number(4)}
cpm {Faker::Number.between(1,70)}
trp_price {Faker::Number.between(100,700)}
viewer {Faker::Number.between(0,100000)}
total_viewer {Faker::Number.between(0,200000)}
unique_viewer {Faker::Number.between(0,50000)}
spots {Faker::Number.between(0,1000)}
end
end
As you can see I define lots of fields with random values.
Now we can create a company by writing
create(:company)Or just build one (without save to db) by calling
build(:company) That’s all for now, I’ll continue in part2.">
  <meta property="og:locale" content="en-us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2014-11-15T07:52:00-08:00">
    <meta property="article:modified_time" content="2014-11-15T07:52:00-08:00">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Use FactoryGirl And Faker for easy data generation in unit testing (Part1)">
<meta name="twitter:description" content="The  most irritating thing in writing tests is the data generation preparation process, sometimes you want to create an object with 20 fields that 10 of them are mandatory but you only care about the value of 1, and you don&rsquo;t want to mock, cause you interact with other methods and object that fetch this model from db.To me it happens a lot so I found the FactoryGirl &#43; Faker combination that made my life much more easy and now I can write tests in peace.To add them just put in Gemfile: gem &ldquo;factory_girl_rails&rdquo;, &ldquo;~&gt; 4.0&rdquo;  gem &ldquo;faker&rdquo;So lets take a complex sample to explain all there is to know.We have a User, the User belongs to a Company, User has many tasks.Company has many irritating mandatory fieldsLets define the Company Factory:FactoryGirl.define do    factory :company do      name {Faker::Name.name}      trp {Faker::Number.between(0,10)}      grp {Faker::Number.between(0,5)}      budget {Faker::Number.number(4)}      cpm {Faker::Number.between(1,70)}      trp_price {Faker::Number.between(100,700)}      viewer {Faker::Number.between(0,100000)}      total_viewer {Faker::Number.between(0,200000)}      unique_viewer {Faker::Number.between(0,50000)}      spots {Faker::Number.between(0,1000)}    end  endAs you can see I define lots of fields with random values.Now we can create a company by writingcreate(:company)Or just build one (without save to db) by callingbuild(:company) That&rsquo;s all for now, I&rsquo;ll continue in part2.  ">


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Posts",
      "item": "https://kinnrot.github.io/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "Use FactoryGirl And Faker for easy data generation in unit testing (Part1)",
      "item": "https://kinnrot.github.io/use-factorygirl-and-faker-for-easy-data/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Use FactoryGirl And Faker for easy data generation in unit testing (Part1)",
  "name": "Use FactoryGirl And Faker for easy data generation in unit testing (Part1)",
  "description": "The most irritating thing in writing tests is the data generation preparation process, sometimes you want to create an object with 20 fields that 10 of them are mandatory but you only care about the value of 1, and you don\u0026rsquo;t want to mock, cause you interact with other methods and object that fetch this model from db.\nTo me it happens a lot so I found the FactoryGirl + Faker combination that made my life much more easy and now I can write tests in peace.\nTo add them just put in Gemfile:\ngem \u0026ldquo;factory_girl_rails\u0026rdquo;, \u0026ldquo;~\u0026gt; 4.0\u0026rdquo;\ngem \u0026ldquo;faker\u0026rdquo;\nSo lets take a complex sample to explain all there is to know.\nWe have a User, the User belongs to a Company, User has many tasks.\nCompany has many irritating mandatory fields\nLets define the Company Factory:\nFactoryGirl.define do\nfactory :company do\nname {Faker::Name.name}\ntrp {Faker::Number.between(0,10)}\ngrp {Faker::Number.between(0,5)}\nbudget {Faker::Number.number(4)}\ncpm {Faker::Number.between(1,70)}\ntrp_price {Faker::Number.between(100,700)}\nviewer {Faker::Number.between(0,100000)}\ntotal_viewer {Faker::Number.between(0,200000)}\nunique_viewer {Faker::Number.between(0,50000)}\nspots {Faker::Number.between(0,1000)}\nend\nend\nAs you can see I define lots of fields with random values.\nNow we can create a company by writing\ncreate(:company)Or just build one (without save to db) by calling\nbuild(:company) That\u0026rsquo;s all for now, I\u0026rsquo;ll continue in part2.\n",
  "keywords": [
    
  ],
  "articleBody": "The most irritating thing in writing tests is the data generation preparation process, sometimes you want to create an object with 20 fields that 10 of them are mandatory but you only care about the value of 1, and you don’t want to mock, cause you interact with other methods and object that fetch this model from db.\nTo me it happens a lot so I found the FactoryGirl + Faker combination that made my life much more easy and now I can write tests in peace.\nTo add them just put in Gemfile:\ngem “factory_girl_rails”, “~\u003e 4.0”\ngem “faker”\nSo lets take a complex sample to explain all there is to know.\nWe have a User, the User belongs to a Company, User has many tasks.\nCompany has many irritating mandatory fields\nLets define the Company Factory:\nFactoryGirl.define do\nfactory :company do\nname {Faker::Name.name}\ntrp {Faker::Number.between(0,10)}\ngrp {Faker::Number.between(0,5)}\nbudget {Faker::Number.number(4)}\ncpm {Faker::Number.between(1,70)}\ntrp_price {Faker::Number.between(100,700)}\nviewer {Faker::Number.between(0,100000)}\ntotal_viewer {Faker::Number.between(0,200000)}\nunique_viewer {Faker::Number.between(0,50000)}\nspots {Faker::Number.between(0,1000)}\nend\nend\nAs you can see I define lots of fields with random values.\nNow we can create a company by writing\ncreate(:company)Or just build one (without save to db) by calling\nbuild(:company) That’s all for now, I’ll continue in part2.\n",
  "wordCount" : "204",
  "inLanguage": "en",
  "datePublished": "2014-11-15T07:52:00.001-08:00",
  "dateModified": "2014-11-15T07:52:00.001-08:00",
  "author":{
    "@type": "Person",
    "name": "Chen Kinnrot"
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://kinnrot.github.io/use-factorygirl-and-faker-for-easy-data/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "cdblg",
    "logo": {
      "@type": "ImageObject",
      "url": "https://kinnrot.github.io/favicon.ico"
    }
  }
}
</script>
</head>
<body id="top">
    <header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://kinnrot.github.io/" accesskey="h" title="cdblg (Alt + H)">cdblg</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)" aria-label="Toggle theme">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    
    <h1 class="post-title entry-hint-parent">
      Use FactoryGirl And Faker for easy data generation in unit testing (Part1)
    </h1>
    <div class="post-meta"><span title='2014-11-15 07:52:00.001 -0800 -0800'>November 15, 2014</span>&nbsp;·&nbsp;<span>Chen Kinnrot</span>

</div>
  </header> 
  <div class="post-content"><p>The  most irritating thing in writing tests is the data generation preparation process, sometimes you want to create an object with 20 fields that 10 of them are mandatory but you only care about the value of 1, and you don&rsquo;t want to mock, cause you interact with other methods and object that fetch this model from db.<br /><br />To me it happens a lot so I found the FactoryGirl + Faker combination that made my life much more easy and now I can write tests in peace.<br /><br />To add them just put in Gemfile:<br /><br /> gem &ldquo;factory_girl_rails&rdquo;, &ldquo;~&gt; 4.0&rdquo;<br />  gem &ldquo;faker&rdquo;<br /><br />So lets take a complex sample to explain all there is to know.<br /><br />We have a User, the User belongs to a Company, User has many tasks.<br /><br />Company has many irritating mandatory fields<br /><br />Lets define the Company Factory:<br /><br /><pre style="background-color: #2b2b2b; border: 0.01mm solid rgb(0, 0, 0); font-size: 12pt; line-height: 100%;"><span style="color: #6d9cbe;">FactoryGirl</span><span style="color: #e6e1dc;">.define </span><span style="color: #cc7833;">do<br /></span><span style="color: #e6e1dc;">    factory </span><span style="color: #6d9cbe;">:company</span><span style="color: #e6e1dc;"> </span><span style="color: #cc7833;">do<br /></span><span style="color: #e6e1dc;">      name {</span><span style="color: #6d9cbe;">Faker</span><span style="color: #e6e1dc;">::</span><span style="color: #6d9cbe;">Name</span><span style="color: #e6e1dc;">.name}<br />      trp {</span><span style="color: #6d9cbe;">Faker</span><span style="color: #e6e1dc;">::</span><span style="color: #6d9cbe;">Number</span><span style="color: #e6e1dc;">.between(</span><span style="color: #a5c261;">0</span><span style="color: #e6e1dc;">,</span><span style="color: #a5c261;">10</span><span style="color: #e6e1dc;">)}<br />      grp {</span><span style="color: #6d9cbe;">Faker</span><span style="color: #e6e1dc;">::</span><span style="color: #6d9cbe;">Number</span><span style="color: #e6e1dc;">.between(</span><span style="color: #a5c261;">0</span><span style="color: #e6e1dc;">,</span><span style="color: #a5c261;">5</span><span style="color: #e6e1dc;">)}<br />      budget {</span><span style="color: #6d9cbe;">Faker</span><span style="color: #e6e1dc;">::</span><span style="color: #6d9cbe;">Number</span><span style="color: #e6e1dc;">.number(</span><span style="color: #a5c261;">4</span><span style="color: #e6e1dc;">)}<br />      cpm {</span><span style="color: #6d9cbe;">Faker</span><span style="color: #e6e1dc;">::</span><span style="color: #6d9cbe;">Number</span><span style="color: #e6e1dc;">.between(</span><span style="color: #a5c261;">1</span><span style="color: #e6e1dc;">,</span><span style="color: #a5c261;">70</span><span style="color: #e6e1dc;">)}<br />      trp_price {</span><span style="color: #6d9cbe;">Faker</span><span style="color: #e6e1dc;">::</span><span style="color: #6d9cbe;">Number</span><span style="color: #e6e1dc;">.between(</span><span style="color: #a5c261;">100</span><span style="color: #e6e1dc;">,</span><span style="color: #a5c261;">700</span><span style="color: #e6e1dc;">)}<br />      viewer {</span><span style="color: #6d9cbe;">Faker</span><span style="color: #e6e1dc;">::</span><span style="color: #6d9cbe;">Number</span><span style="color: #e6e1dc;">.between(</span><span style="color: #a5c261;">0</span><span style="color: #e6e1dc;">,</span><span style="color: #a5c261;">100000</span><span style="color: #e6e1dc;">)}<br />      total_viewer {</span><span style="color: #6d9cbe;">Faker</span><span style="color: #e6e1dc;">::</span><span style="color: #6d9cbe;">Number</span><span style="color: #e6e1dc;">.between(</span><span style="color: #a5c261;">0</span><span style="color: #e6e1dc;">,</span><span style="color: #a5c261;">200000</span><span style="color: #e6e1dc;">)}<br />      unique_viewer {</span><span style="color: #6d9cbe;">Faker</span><span style="color: #e6e1dc;">::</span><span style="color: #6d9cbe;">Number</span><span style="color: #e6e1dc;">.between(</span><span style="color: #a5c261;">0</span><span style="color: #e6e1dc;">,</span><span style="color: #a5c261;">50000</span><span style="color: #e6e1dc;">)}<br />      spots {</span><span style="color: #6d9cbe;">Faker</span><span style="color: #e6e1dc;">::</span><span style="color: #6d9cbe;">Number</span><span style="color: #e6e1dc;">.between(</span><span style="color: #a5c261;">0</span><span style="color: #e6e1dc;">,</span><span style="color: #a5c261;">1000</span><span style="color: #e6e1dc;">)}<br />    </span><span style="color: #cc7833;">end<br /></span><span style="color: #e6e1dc;">  </span><span style="color: #cc7833;">end</span></pre><br />As you can see I define lots of fields with random values.<br /><br />Now we can create a company by writing<br /><blockquote class="tr_bq">create(:company)</blockquote>Or just build one (without save to db) by calling<br /><br /><blockquote class="tr_bq">build(:company) </blockquote><br />That&rsquo;s all for now, I&rsquo;ll continue in part2.<br /><blockquote class="tr_bq"> </blockquote><blockquote class="tr_bq"> </blockquote></p>


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
    </ul>
  </footer>
</article>
    </main>
    
<footer class="footer">
        <span>&copy; 2026 <a href="https://kinnrot.github.io/">cdblg</a></span> · 

    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu');
    if (menu) {
        
        const scrollPosition = localStorage.getItem("menu-scroll-position");
        if (scrollPosition) {
            menu.scrollLeft = parseInt(scrollPosition, 10);
        }
        
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        const html = document.querySelector("html");
        if (html.dataset.theme === "dark") {
            html.dataset.theme = 'light';
            localStorage.setItem("pref-theme", 'light');
        } else {
            html.dataset.theme = 'dark';
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
</body>

</html>
