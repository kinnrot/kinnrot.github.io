---
layout: post
title: PHP sessions - stuff to check when things goes wrong.
date: '2012-01-06T01:49:00.000-08:00'
author: Chen Kinnrot
tags:
- session
- php
modified_time: '2012-01-06T01:49:42.197-08:00'
blogger_id: tag:blogger.com,1999:blog-8908829452516573489.post-2584057470069676858
blogger_orig_url: http://kinnrot.blogspot.com/2012/01/php-sessions-stuff-to-check-when-things.html
---

<span style="font-family: 'Courier New', Courier, monospace;">There is too much information about problems with sessions in PHP, every dude got it's own problem and it's own solution.</span><br /><span style="font-family: 'Courier New', Courier, monospace;">The probability that the problem you experiencing is the same is very low.&nbsp;</span><br /><span style="font-family: 'Courier New', Courier, monospace;">So here is what my little (and very annoying) google&nbsp;journey&nbsp;came up to:</span><br /><span style="font-family: 'Courier New', Courier, monospace;"><br /></span><br /><br /><ul><li><span style="font-family: 'Courier New', Courier, monospace;">You must call session_start(); on each page</span></li><li><span style="font-family: 'Courier New', Courier, monospace;">If you use the header('Location: blabla'); you should use relative url to keep preserve session&nbsp;</span></li><li><span style="font-family: 'Courier New', Courier, monospace;">some people say before using the header action you need to call&nbsp; <span class="methodname" style="background-color: white;">session_write_close();&nbsp;- I'm not using it.</span></span></li><li><span class="methodname" style="background-color: white;"><span style="font-family: 'Courier New', Courier, monospace;">session_write_close(); could be the reason to your problems, cause after calling it you can't modify the session (in the current http context), that was my problem.</span></span></li><li><span style="font-family: 'Courier New', Courier, monospace;">on php docs, they say that "<span style="background-color: white;">Session ID is not passed with Location header even if&nbsp;</span><a class="link" href="http://www.php.net/manual/en/session.configuration.php#ini.session.use-trans-sid" style="background-color: white; border-bottom-color: rgb(0, 0, 153); border-bottom-style: solid; border-bottom-width: 1px; color: #000099; text-decoration: none;">session.use_trans_sid</a><span style="background-color: white;">&nbsp;is enabled. It must by passed manually using&nbsp;</span><span style="background-color: white;"><tt>SID</tt></span><span style="background-color: white;">&nbsp;constant."</span></span></li></ul><div><span style="font-family: 'Courier New', Courier, monospace;">So first make sure you use session start, if you passed this search for voodoos like&nbsp;&nbsp;<span class="methodname" style="background-color: white;">session_write_close() in the middle of your infrastructure and remove them.</span></span></div><div><span style="font-family: 'Courier New', Courier, monospace;"><br /></span></div><div><span style="font-family: 'Courier New', Courier, monospace;">If I didn't help, continue the journey.</span></div>