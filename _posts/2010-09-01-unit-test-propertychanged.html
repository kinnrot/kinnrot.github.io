---
layout: post
title: Unit Test PropertyChanged
date: '2010-09-01T15:01:00.000-07:00'
author: Chen Kinnrot
tags:
- PropertyChanged
- TDD
- UnitTest
modified_time: '2010-09-02T12:39:13.389-07:00'
blogger_id: tag:blogger.com,1999:blog-8908829452516573489.post-4109305417747640642
blogger_orig_url: http://kinnrot.blogspot.com/2010/09/unit-test-propertychanged.html
---

One of the basic stuff you wanna test as a client side developer, is that all of your UI bounded classes aka Controller, Model, ViewModel, Presenter, PresentationModel, or the code behind of your view if your just having fun.<br /><div><br />Let's assume we have a person class with a name property:<br /><br /></div><pre class="brush: csharp; ruler: true;">public class Person : INotifyPropertyChanged<br />{<br />    public event PropertyChangedEventHandler PropertyChanged;<br /><br />    private string _name;<br /><br />    public virtual string Name<br />    {<br />        get { return _name; }<br />        set { _name = value;<br />        FirePropertyChanged("Name");<br />        }<br />    }<br /><br />    protected virtual void FirePropertyChanged(string propertyName)<br />    {<br />        var handlers = PropertyChanged;<br />        if (handlers != null)<br />        {<br />            handlers(this, new PropertyChangedEventArgs(propertyName));<br />        }<br />    }<br />}<br /></pre><pre class="brush: csharp; ruler: true;"></pre><div>The simplest way to perform this test is to write this code:<br /><br /><pre class="brush: csharp; ruler: true;">[TestFixture]<br />public class PersonTest<br />{<br />    [Test]<br />    public void SetName_SomeNewString_FirePropertyChanged()<br />    {<br />        Person person = new Person();<br />        string changedPropertyName = string.Empty;<br />        person.PropertyChanged += (sender, args) =&gt; changedPropertyName = args.PropertyName;<br />        person.Name = "Test";<br />        Assert.AreEqual("Name", changedPropertyName);<br />    }<br />}<br /></pre></div>