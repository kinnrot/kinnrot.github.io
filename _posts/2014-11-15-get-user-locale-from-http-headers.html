---
layout: post
title: Get the user locale from http headers
date: '2014-11-15T07:42:00.001-08:00'
author: Chen Kinnrot
tags:
- rails
- locale
- localization
- language
- Ruby
modified_time: '2014-11-15T07:42:21.105-08:00'
blogger_id: tag:blogger.com,1999:blog-8908829452516573489.post-7643080298344045009
blogger_orig_url: http://kinnrot.blogspot.com/2014/11/get-user-locale-from-http-headers.html
---

If you want to provide default localization support for guest user in your website yo can locate their browser locale by the following code:<br /><br /><br /><pre style="background-color: #2b2b2b; border-color: #000000; border-style: solid; border-width: 0.01mm; font-family: monospace; font-size: 14pt; line-height: 100%; padding: 4px;"><pre style="border: 0.01mm solid rgb(0, 0, 0); font-size: 12pt; line-height: 100%;"><span style="color: #cc7833;">def</span><span style="color: #e6e1dc;"> extract_locale_from_header<br />    </span><span style="color: #cc7833;">unless</span><span style="color: #e6e1dc;"> request.env[</span><span style="color: #a5c261;">'HTTP_ACCEPT_LANGUAGE'</span><span style="color: #e6e1dc;">].nil?<br />      </span><span style="color: #cc7833;">return</span><span style="color: #e6e1dc;"> request.env[</span><span style="color: #a5c261;">'HTTP_ACCEPT_LANGUAGE'</span><span style="color: #e6e1dc;">].scan(</span><span style="color: #a5c261;">/</span><span style="color: #e6e1dc;">^[a-z]{2}</span><span style="color: #a5c261;">/</span><span style="color: #e6e1dc;">).first<br />    </span><span style="color: #cc7833;">end<br /></span><span style="color: #e6e1dc;">    </span><span style="color: #a5c261;">'en'<br /></span><span style="color: #e6e1dc;">  </span><span style="color: #cc7833;">end</span></pre></pre><br />This way you can determine on server side the locale of the user currently entered your site.