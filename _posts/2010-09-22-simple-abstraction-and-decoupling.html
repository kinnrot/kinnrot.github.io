---
layout: post
title: Simple abstraction and decoupling example
date: '2010-09-22T14:49:00.000-07:00'
author: Chen Kinnrot
tags: 
modified_time: '2010-09-22T14:49:11.876-07:00'
blogger_id: tag:blogger.com,1999:blog-8908829452516573489.post-1924625325813950873
blogger_orig_url: http://kinnrot.blogspot.com/2010/09/simple-abstraction-and-decoupling.html
---

<span class="Apple-style-span" style="font-family: 'Courier New', Courier, monospace;">Just code.</span><br /><span class="Apple-style-span" style="font-family: 'Courier New', Courier, monospace;"><br /></span><br /><span class="Apple-style-span" style="font-family: 'Courier New', Courier, monospace;">We have a logger and a log viewer, could be better but I wanted it to be simple.</span><br /><span class="Apple-style-span" style="font-family: 'Courier New', Courier, monospace;"><br /></span><br /><span class="Apple-style-span" style="font-family: 'Courier New', Courier, monospace;">This is the window that is also the log viewer</span><br /><pre class="brush: csharp;">/// &lt;summary&gt;<br />  /// Interaction logic for MainWindow.xaml<br />  /// &lt;/summary&gt;<br />  public partial class MainWindow : Window, ILogViewer<br />  {<br />    public MainWindow()<br />    {<br />      InitializeComponent();<br />      Logger.RegisterViewer(this);<br />    }<br /><br />    public void Log(string message)<br />    {<br />      // do the write logic<br />    }<br />  }<br /><br /></pre><span class="Apple-style-span" style="font-family: 'Courier New', Courier, monospace;">This is the interface of viewers</span><br /><pre class="brush: csharp;">public interface ILogViewer<br />{<br />  void Log(string message);<br />}<br /></pre><span class="Apple-style-span" style="font-family: 'Courier New', Courier, monospace;">This is logger</span><br /><pre class="brush: csharp;">public static class Logger<br />{<br />  static List&lt;ILogViewer&gt; viewers = new List&lt;ILogViewer&gt;();<br /><br />  public static void RegisterViewer(ILogViewer viewer)<br />  {<br />    viewers.Add(viewer);<br />  }<br /><br />  public static void Log(string message)<br />  {<br />    foreach (ILogViewer viewer in viewers)<br />    {<br />      viewer.Log(message);<br />    }<br />  }<br />}<br /></pre>