I"G
<p>So I found out it’s not so documented, hopefully google will index this.
I have a page on my  system that shows a google geo chart (same as <a href="https://developers.google.com/chart/interactive/docs/gallery/geochart">this</a>)
When clicking on a country on the map lot’s of interesting things happens. And I wanted to implement a ui automation test to cover this use case.</p>

<p>It’s not so easy cause even if you find the right svg path object and try clicking on it you get some interception errors.
So I googled a bit without any luck, but the geo chart documents came to the rescue.</p>

<p>The easiest way is to run some javascript:</p>

<figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">yourChart</span> <span class="o">=</span> <span class="nx">Chartkick</span><span class="p">.</span><span class="nx">charts</span><span class="p">[</span><span class="dl">'</span><span class="s1">counutries-map</span><span class="dl">'</span><span class="p">].</span><span class="nx">chart</span> <span class="c1">// Replace with code that gets your chart</span>
<span class="nx">google</span><span class="p">.</span><span class="nx">visualization</span><span class="p">.</span><span class="nx">events</span><span class="p">.</span><span class="nx">trigger</span><span class="p">(</span><span class="nx">yourChart</span><span class="p">,</span> <span class="dl">'</span><span class="s1">regionClick</span><span class="dl">'</span><span class="p">,</span> <span class="p">{</span> <span class="na">region</span><span class="p">:</span><span class="dl">'</span><span class="s1">US</span><span class="dl">'</span> <span class="p">});</span></code></pre></figure>

<p>This code triggers an event on the chart object that the United States region was clicked. super simple and easy
I’m using <a href="http://teamcapybara.github.io/capybara/">capybara</a> and it looks like this:</p>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby">    <span class="n">page</span><span class="p">.</span><span class="nf">evaluate_script</span><span class="p">(</span><span class="o">&lt;&lt;~</span><span class="no">JS</span><span class="p">)</span><span class="sh">
        function(){
            var yourChart = Chartkick.charts['counutries-map'].chart // Replace with code that gets your chart
            google.visualization.events.trigger(yourChart, 'regionClick', { region:'US' });
        }()
</span><span class="no">      JS</span></code></pre></figure>

<p>It’s just injecting a self executing function to the page.</p>

:ET