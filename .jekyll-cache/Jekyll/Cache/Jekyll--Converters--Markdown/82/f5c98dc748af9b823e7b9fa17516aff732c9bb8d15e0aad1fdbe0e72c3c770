I"¿<p>Today I ran into a guy who worked with me on my previous project.<br />On that project I was responsible to rewrite the WCF channels (proxies) generation management and lifetime management of them.<br />I decided to do some research and found some good stuff <a href="http://wcfguidanceforwpf.codeplex.com/">here</a>.<br />So this guy (aka Kurki) tells me they found a memory leak in my manager, what was the problem?<br /><br />So i messed up like I always do (well, only 90% of the time, like a good programmer).<br /><br />I wrote a code that registers to the Faulted event of the channel, kills the channel when Faulted and creates a new one to work with, everything looked fine, only one screw up (Iâ€™m sure some of you can guess).<br />I forgot to unregister from the Faulted Event.<br /><br />On the web they tell you to do some unique logic to kill your channel in a safe way, what they donâ€™t talk about is that itâ€™ll stay in memory and fire events if you wonâ€™t unregister from stuffÂ althoughÂ you think it is dead.<br /><br />So please <u>do not forget to unregister from stuff even if the object is disposable</u>.<br /><br />Or consider the use of weak event listeners and problem solved.</p>
:ET